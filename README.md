# GoSimpleREST

GoSimpleREST is exactly as the title says; a simple REST API written in Go.

## Architecture

GoSimpleREST uses MVC (Model-View-Controller) architecture.

### Database Schema

#### Companies Table

Stores basic information about companies whose stocks we're tracking.
Acts as a master reference table.

- company_id: Primary key, uniquely identifies each company
- symbol: Stock ticker symbol (e.g., "AAPL", "MSFT")
- name: Full company name
- sector: Business sector (e.g., "Technology", "Healthcare")
- industry: Specific industry within the sector
- exchange: Stock exchange where the company is listed (e.g., "NASDAQ")
- is_active: Boolean flag to indicate if we're actively tracking this company
- created_at: Timestamp when the record was created

#### Stocks Table

Stores the raw historical stock price data fetched from Alpha Vantage API.

- stock_data_id: Primary key for each daily stock record
- company_id: Foreign key linking to the companies table
- symbol: Stock ticker symbol (duplicated for query convenience)
- date: The trading date for this price record
- open_price: Opening price for the day
- high_price: Highest price during the day
- low_price: Lowest price during the day
- close_price: Closing price for the day
- adjusted_close_price: Closing price adjusted for splits and dividends
- volume: Number of shares traded
- dividend_amount: Amount of dividend issued on this date
- split_coefficient: Stock split factor on this date
- data_source: Name of the data provider (e.g., "AlphaVantage")
- last_updated: Timestamp when this record was last updated

##### Stocks Table Constraints

Unique constraint on company_id and date ensures we don't duplicate daily records

#### Technical Indicators Table

Stores calculated technical indicators based on the raw stock data.
These are used as features for ML models.

- indicator_id: Primary key for each indicator record
- stock_data_id: Foreign key linking to the stocks table
- symbol: Stock ticker symbol (duplicated for query convenience)
- date: The date for this indicator value
- indicator_type: Type of indicator (e.g., "SMA", "EMA", "BOLLINGER", "RSI")
- period: Time period for the indicator (e.g., 14 days for a 14-day RSI)
- value: Primary indicator value
- upper_band: Upper band value (for indicators like Bollinger Bands)
- lower_band: Lower band value (for indicators like Bollinger Bands)
- created_at: Timestamp when this indicator was calculated

##### Technical Indicators Table Constraints

Unique constraint on stock_data_id, indicator_type, and period

#### ML Predictions Table

Stores predictions generated by machine learning models, allowing
for tracking accuracy and model performance.

- prediction_id: Primary key for each prediction
- symbol: Stock ticker symbol the prediction is for
- target_date: The future date being predicted
- prediction_date: When the prediction was made
- prediction_type: Type of prediction (e.g., "DIRECTION", "PRICE", "VOLATILITY")
- predicted_value: The predicted value (direction: -1 to 1, price: actual value)
- confidence: Model confidence score (0-1)
- model_version: Version identifier for the ML model used
- features_used: Text description of features used in the prediction
- actual_value: The actual value once the target date arrives
- accuracy_metric: Metric of prediction accuracy

##### ML Predictions Table Constraints

Unique constraint on symbol, target_date, prediction_type, and model_version

#### Data Fetch Configs Table

Stores configuration for fetching data from external APIs.

- config_id: Primary key for each configuration
- symbol: Stock ticker symbol to fetch
- data_source: Name of data provider (e.g., "AlphaVantage")
- api_key: API key for the data provider
- start_date: Optional start date for fetching historical data
- end_date: Optional end date for fetching historical data
- frequency: Data frequency to fetch (e.g., "daily", "weekly")
- last_fetched: When data was last fetched for this configuration
- is_active: Whether this configuration is currently active

##### Data Fetch Configs Table Constraints

Unique constraint on symbol and data_source

#### Model Training History Table

Tracks the history of machine learning model training sessions, enabling
auditing and performance analysis.

- training_id: Primary key for each training session
- model_version: Version identifier for the trained model
- training_date: When the model was trained
- model_type: Type of model (e.g., "LSTM", "RandomForest", "XGBoost")
- parameters: JSON blob storing model hyperparameters
- training_accuracy: Accuracy on the training dataset
- validation_accuracy: Accuracy on the validation dataset
- features_used: Text description of features used in training
- training_duration_seconds: How long the training took
- notes: Any additional notes about this training session

### Project Structure

- README.md
- api/
  - app.go
  - handlers.go
  - responses.go
- go.mod
- main.go
- models/
  - stock.go
- store/
  - schema.sql
  - memstore.go
